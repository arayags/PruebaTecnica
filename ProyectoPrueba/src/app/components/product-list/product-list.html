<!-- ğŸ”¹ TÃ­tulo principal -->
<h2>Lista de Productos</h2>

<!-- ğŸ”¹ Botonera superior -->
<!-- ğŸ”¹ Botonera superior -->
<div style="display:flex; gap:10px; margin-bottom:15px;">

  <button (click)="onGoHome()">
    ğŸ  Home
  </button>

  <button (click)="onAddProduct()">
    â• Nuevo Producto
  </button>

  <button (click)="onOpenCategoryForm()">
    ğŸ—‚ Nueva CategorÃ­a
  </button>

</div>



<!-- ğŸ”¹ Tabla solo se muestra si el observable tiene datos -->
<table *ngIf="(productos$ | async) as productos">

  <thead>
    <tr>
      <th>ID</th>
      <th>Nombre</th>
      <th>Precio</th>
      <th>Cantidad</th>
      <th>CategorÃ­a</th>
      <th>Responsable</th>
      <th>Acciones</th>
    </tr>
  </thead>

  <!-- ğŸ”¹ Si hay productos los mostramos -->
  <tbody *ngIf="productos.length > 0; else noData">

    <!-- ğŸ”¹ IteraciÃ³n reactiva de productos -->
    <tr *ngFor="let p of productos">

      <!-- ID -->
      <td>{{ p.producto_id }}</td>

      <!-- Nombre -->
      <td>{{ p.producto_Nombre }}</td>

      <!-- Precio formateado a moneda -->
      <td>{{ p.producto_Precio | currency:'â‚¡' }}</td>

      <!-- Cantidad con restricciÃ³n visual -->
      <td>
        <span 
          [style.color]="p.producto_Cantidad === 0 ? 'red' : 'inherit'">
          {{ p.producto_Cantidad }}
        </span>

        <!-- ğŸ”¹ Indicador visual si no hay stock -->
        <span *ngIf="p.producto_Cantidad === 0" 
              style="color:red; font-size:12px;">
          (Sin stock)
        </span>
      </td>

      <!-- CategorÃ­a -->
      <td>{{ p.categoria }}</td>

      <!-- Responsable -->
      <td>{{ p.responsable }}</td>

      <!-- Acciones -->
      <td>

        <!-- BotÃ³n editar -->
        <button (click)="onEdit(p)">
          âœï¸ Editar
        </button>

        <!-- BotÃ³n eliminar -->
        <button 
          (click)="onDelete(p.producto_id)">
          ğŸ—‘ Eliminar
        </button>

      </td>
    </tr>

  </tbody>

</table>

<!-- ğŸ”¹ Template que se muestra si no hay productos -->
<ng-template #noData>
  <p>No hay productos registrados.</p>
</ng-template>
